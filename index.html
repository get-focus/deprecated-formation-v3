<!doctype html>
<html lang="fr">

<head>
	<meta charset="utf-8">

	<title>Focus, ...</title>

	<meta name="description" content="Une formation sur le JS">
	<meta name="author" content="Amélie VIOLLET">


	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

	<link rel="stylesheet" href="css/reveal.css">
	<link rel="stylesheet" href="css/theme/black.css" id="theme">

	<!-- Code syntax highlighting -->
	<link rel="stylesheet" href="lib/css/zenburn.css">

	<!-- Printing and PDF exports -->
	<script>
	var link = document.createElement( 'link' );
	link.rel = 'stylesheet';
	link.type = 'text/css';
	link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
	document.getElementsByTagName( 'head' )[0].appendChild( link );
	</script>

	<!--[if lt IE 9]>
	<script src="lib/js/html5shiv.js"></script>
	<![endif]-->
	<link href='https://fonts.googleapis.com/css?family=Merriweather:700|Source+Sans+Pro:300,600,300italic,600italic|Source+Code+Pro:400,600' rel='stylesheet' type='text/css'>


</head>

<body>

	<style>
		.redTransparent{
			background-color: rgba(255, 0, 0, 0.5);
		}
		.blackTransparent{
			background-color: rgba(0, 0, 0, 0.5);
		}
	</style>

	<div class="reveal">
		<div class="slides">
			<section>
				<section data-background=''>
					<h1>Focus</h1>
					<p>
						<a href='http://get-focus.github.io/formation-v3/#/'>http://get-focus.github.io/formation-focus</a>
					</p>
				</section>
				<section>
					<h1>Pourquoi Focus?</h1>
				</section>
				<section data-background='https://i.ytimg.com/vi/M_WUvsFY9-4/maxresdefault.jpg'>
					<h2 class='blackTransparent'>Klee fait des applications sur mesure</h2>
				</section>
				<section ><h1>Les missions de Focus</h1></section>
				<section data-background='http://usabilitygeek.com/wp-content/uploads/2011/07/usability-user-experience-difference.jpg'>
					<h1 class='blackTransparent'>Remettre l'humain au centre UX</h1>
				</section>
				<section data-background='http://keithrhiggons.com/wp-content/uploads/2014/09/CHANGES.jpg'>
					<h1 class='redTransparent'>Capter et digérer l'innovation</h1>
				</section>
				<section data-background='https://media.giphy.com/media/W4ZYPB4q4DSbS/giphy.gif'>
					<h1 class='blackTransparent'>Developer Experience DX</h1>
				</section>
				<section>
					<h2>Les livrables</h2>
					<ul>
						<li>Support de communication et d'aide à la vente</li>
						<li>Les templates de page</li>
						<li>Libraries JS</li>
						<li>Showcase de composants</li>
						<li>Blog d'articles UX / Tech</li>
						<li>Documentation  technique focus-docs</li>
						<li>Extensions prêtes à l'emploi (notifs, comments, ...)</li>
					</ul>
				</section>
				<section>
					<h1>Objectifs</h1>
				</section>
				<section>
					<h2>Faire rapidement et facilement 80 % des écrans de l'application</h2>
					<ul>
						<li>Respecter les maquettes</li>
						<li>Composants UX prêt à l'emploi</li>
					</ul>
				</section>
				<section>
					<h2>Faire facilement du sur mesure 20 % des écrans de l'application</h2>
				</section>
				<section data-background='http://www.friteries-sensas.fr/gifs/presse1.jpg'>
					<h1 class='redTransparent'>Le bureau Focus</h1>
				</section>
				<section data-background='http://www.cosatto.com/blog/wp-content/uploads/2011/08/babyshow_smaller.jpg'>
					<ul class='blackTransparent' style=''>
						<li data-fragment>Validation de choix avant de se lancer ?</li>
						<li>Conception de maquettes</li>
						<li>Validation des maquettes</li>
						<li>Conception technique d'écran</li>
						<li>Pour partager vos bonnes idées</li>
					</ul>
				</section>
				<section data-background='http://www.quizz.biz/uploads/quizz/888745/1_98CBQ.jpg'>
					<h2 class='redTransparent'>Je n'arrive pas à faire rentrer mon écran dans le pattern</h2>
					<ul></ul>
				</section>
				<section data-background='http://regmedia.co.uk/2012/04/02/word_2_doc.png'>
					<h2 class='redTransparent'>Mon client veut un écran un peu funky</h2>

				</section>
				<section data-background='http://www.xanetiz.com/images/articles/bugs-connus-histoire1.png'>
					<h2 class='redTransparent'>Je trouve un bug sur Focus</h2>
				</section>
				<section>
					<h2>Des suggestions ou problèmes:</h2>
					<ul>
						<li>focus-bureau@kleegroup.com</li>
						<li><a href='http://community-focus.slack.com/'>Slack Focus community</a></li>
						<li>Validation des maquettes</li>
						<li>Conception technique d'écran</li>
						<li>Pour partager vos bonnes idées.</li>
					</ul>
				</section>
			</section>
			<section>
				<section data-background='https://assets-cdn.github.com/images/modules/open_graph/github-octocat.png'>
<h2 class='blackTransparent'>github</h2>
			</section>
			<section><h1><a href='https://getfocus.io'>GetFocus.io</a></h1></section>
			<section data-markdown>
# Les librairies coeur

## [Focus Graph](https://github.com/get-focus/focus-graph)
## [Focus Components](https://github.com/get-focus/focus-components)
## [Focus Application](https://github.com/get-focus/focus-application)
## [Focus Search](https://github.com/get-focus/focus-search)

			</section>
			<section data-markdown>
# Les extensions

## [Focus file](https://github.com/KleeGroup/focus-file)
## [Focus HelpCenter](https://github.com/get-focus/focus-help-center)
## [Focus Notification](https://github.com/KleeGroup/focus-notification)
## [Focus Comments](https://github.com/KleeGroup/focus-comments)
</section>
<section data-markdown>
# Documentation

## [Focus Showcase](https://github.com/KleeGroup/focus-showcase)

## [Focus docs](https://github.com/KleeGroup/focus-docs)

##  [Focus demo](https://github.com/KleeGroup/focus-demo)
</section>
<section data-markdown>
# Outils

## [Focus eslint](https://github.com/KleeGroup/eslint-config-focus)

## [Focus webpack](https://github.com/KleeGroup/webpack-focus)
			</section>
			<section><h1><a href='http://kleegroup.github.io/focus-docs/contribute/index.html'>Contribuez à Focus</a></h1></section>
			<section>Articles, Fork, issues, PR, doc, tuto, DX ...</section>
			</section>
			<section data-background='https://media.giphy.com/media/Sq4QZyBwagvle/giphy.gif'><h1>Focus.js</h1></section>
			<section>
				<section><h1>Le router de l'application</h1></section>
				<section data-markdown>
					## [Router](https://github.com/reactjs/react-router)

					![router](https://cloud.githubusercontent.com/assets/286966/15237848/4daec5de-18d2-11e6-8b77-b5e3387014c9.png)

				</section>
				<section>
					<h1>Et voici l'exemple</h1>
				<section data-markdown>
```javascript
import React from 'react';
import { Route, IndexRoute } from 'react-router';
import AppLayout from '../components/layout'
import HomeRoute from './home-route';
import MasterdataRoutes from './masterdata-routes';
import MoviesRoutes from './movies-route';
import PersonsRoutes from './persons-route';
import SearchRoutes from './advanced-search-route';
import ErrorRoutes from './error-route';

export default {
    path: `${__BASE_URL__}`,
    indexRoute: { onEnter: ({ params }, replace) => replace(`${__BASE_URL__}home`) },
    component: AppLayout,
    childRoutes: [...HomeRoute, ...MasterdataRoutes, ...MoviesRoutes, ...PersonsRoutes, ...SearchRoutes, ...ErrorRoutes]
};

import React from 'react';
import MovieDetailView from '../views/movie/detail';

const route = [
    {
        path: 'movies/:id',
        component: (props) => &lt;MovieDetailView id={parseInt(props.params.id)} {...props}/>
    }
];

export default route;
```
				</section>
				</section>
				
			</section>
			<section>
				<section><h1>Les domaines et les définitions</h1></section>
				<section data-markdown>
					## les domaines

					- Responsable de la validation
					- Du composant de rendu (consultation, édition)
					- formatage  des données
					- On peut les utiliser pour le style
					- Utilisation intelligente avec `fieldFor`
				</section>
				<section data-markdown>
## example du domaine do-date.js

```javascript
import moment from 'moment';
import {Date as DateComponent} from 'focus-components/components/input';

export default {
    InputComponent: DateComponent,
    formatter: date => date ? moment(date, moment.ISO_8601).format('DD/MM/YYYY') : '',
    format: ['DD/MM/YYYY', 'DD-MM-YYYY', 'D MMM YYYY']
};
```
				</section>
				<section data-markdown>
					## Les définitions

- Générées depuis le modèle de données
- Lie le modèle de données ayu domaines
- Chaque table a des champs
- Chaque champ a un domaine
- Chaque champ porte l'information requis / non requis
				</section>
				<section data-markdown>
## example de définitions

```javascript
export const movie = {
    code: {
        domain: 'DO_ID',
        required: true
    },
    title: {
        domain: 'DO_LABEL_LONG',
        required: true
    },
	creationDate: {
		domain: 'DO_DATE',
		required: false
	}
}

// fieldFor(creationDate)
```
				</section>

			</section>
			<section>
				<section><h1>Redux by Focus</h1></section>
				<section data-markdown>
					## Redux
					![redux](https://cloud.githubusercontent.com/assets/10349407/19628799/f07ecb9c-9965-11e6-8a65-60bc55f5643d.PNG)
				</section>
				<section data-markdown>
					# Redux

					![chemin](https://cloud.githubusercontent.com/assets/10349407/19628912/18009580-9969-11e6-9bb3-5f70c9308f65.PNG)
				</section>
				<section data-markdown>
					# Les Providers
					![capture](https://cloud.githubusercontent.com/assets/10349407/16381193/944d89fe-3c7b-11e6-9c05-d1b6c1d49a02.PNG)
				</section>
				<section data-markdown>
# Service

- Un service est une fonction
- Un service retourne une `Promise`
- On peut utiliser la méthode `fetch` de [focus](https://github.com/KleeGroup/focus-core/blob/develop/src/network/fetch.js)
				</section>
				<section>
					<h2>Exemple de service (retourne impérativement une Promise)</h2>
					<pre>
						<code class='javascript'>
import fetch from './fetch';

export const loadUser = async ({id}) => {
    const response = await fetch(`http://localhost:9999/x/complex/${id}`, 'GET')
    const data = await response.response.json();
    return data.user;
}
						</code>
					</pre>
				</section>
				<section data-markdown>
# Le Store

Objet qui contient une grappe de données et permet de: 
- fournir une méthode pour dispatcher une action : dispatch
- fournir une méthode pour s'abonner à des changements sur un store.
- Enregistrer l'arbre de reducer que vous avez produit afin que lorsqu'une action soit dispatchée, le nouveau state soit calculable via les reducers.
- Fournir les enhancers de store qui sont surtout les middlewares qui ont des buts variés et qu'il faut utiliser avec parcimonie.
				</section>
				<section>
					<h2>Exemple d'initialisation du store Redux </h2>
					<pre>
						<code class='javascript'>
import createStoreWithFocus from 'focus-graph/store/create-store';
import dataSetReducer from '../../src/reducer';
import {amoutToUpperCaseMiddleware, errorFieldMiddleware, ownActiondMiddleware} from '../../src/middleware/user-middleware';
import DevTools from '../containers/dev-tools'

const store = createStoreWithFocus(
  // Le reducer de données
  {dataSet: dataSetReducer},
  // Le tableau de middleware custom
  [errorFieldMiddleware, amoutToUpperCaseMiddleware,ownActiondMiddleware], [DevTools.instrument()] // on ajoute les devtools focus
);

export default store;
						</code>
					</pre>
				</section>
				<section data-markdown>
# Action

- Une action est une fonction que l'on dispatch 
- Elle possède un type qui permet d'enregistrer des reducers associés
- On peut utiliser le `actionBuilder` 
				</section>
				<section>
					<h2>Exemple d'action</h2>
					<pre>
						<code class='javascript'>
import {actionBuilder} from 'focus-graph/actions/entity-actions-builder';
import {loadUser, saveUser} from '../services/user-service';

const _loadUserAction = actionBuilder({names: ['user'], type: 'load', service: loadUser});
export const loadUserTypes = _loadUserAction.types;
export const loadUserAction = _loadUserAction.action;

const _saveUserAction = actionBuilder({names: ['user'], type: 'save', service: saveUser});
export const saveUserTypes = _saveUserAction.types;
export const saveUserAction = _saveUserAction.action;
						</code>
					</pre>
				</section>
				<section data-markdown>
# Reducer

Un reducer est une fonction pure ( pas liée à un contexte, dans d'autres termes une fonction static! ) avec une signature très simple : (previousState, action) => newState
- On peut utiliser le `reducerBuilder` 
				</section>
				<section>
					<h2>Exemple d'action</h2>
					<pre>
						<code class='javascript'>
import {reducerBuilder} from 'focus-graph/reducers/reducer-builder';
import {loadUserTypes} from '../actions/user-actions';
import {saveUserTypes} from '../actions/user-actions';

// Données initiales pour la state redux
const DEFAULT_DATA = {
    firstName:'Amélie'
};

// Utilisation du reducerBuilder qui attend un name correspondant à votre entité, puis les types de load renvoyés par les actions
// mais aussi les types des saves et enfin les defaultData.
const userReducer = reducerBuilder({
    name: 'user',
    loadTypes: loadUserTypes,
    saveTypes: saveUserTypes,
    defaultData: DEFAULT_DATA
});

export default userReducer;
						</code>
					</pre>
				</section>				
				<section data-background='http://auto.mgl.skyrock.net/art/SHAR.8448.337.2.jpg'>
					<h2>Un exemple de composant mis en musique</h2>
					<pre>
						<code class="javascript">
import React, {Component, PropTypes} from 'react';
import {connect as connectToForm } from 'focus-graph/behaviours/form';
import {connect as connectToMetadata} from 'focus-graph/behaviours/metadata';
import {connect as connectToFieldHelpers} from 'focus-graph/behaviours/field';
import {loadUserAction, saveUserAction} from '../../actions/user-actions';

import Panel from 'focus-graph/components/panel';
import {compose} from 'redux';

const User = ({fieldFor, ...otherProps}) => (
  &lt;Panel title='User' {...otherProps}>
      {fieldFor('uuid', {entityPath: 'user'})}
      {fieldFor('firstName', {entityPath: 'user'})}
      {fieldFor('lastName', {entityPath: 'user'})}
  &lt;/Panel>
)


class SmartUser extends Component {
    componentWillMount() {
        const {id, load} = this.props;
        // Et voilà un load !
        load({id});
    }

    render() {
        const {fieldFor} = this.props;
        return (
          &lt;User fieldFor={fieldFor} { ...this.props}/>
        );
    }
};

User.displayName = 'SmartUser';

const formConfig = {
    formKey: 'userForm',
    entityPathArray: ['user'],
    loadAction: loadUserAction,
    saveAction: saveUserAction,
    nonValidatedFields: ['user.firstName']
};

const ConnectedUserForm = compose(
    connectToMetadata(['user']),
    connectToForm(formConfig),
    connectToFieldHelpers()
)(SmartUser );

export default ConnectedUserForm;					</code>
					</pre>
				</section>
			</section>
			<section data-markdown>
	## tutos
	- [Faire une page](https://github.com/get-focus/focus-tuto-v3)
	</section>
	<section data-markdown>
				## Structure applicative

				- [Focus docs](http://kleegroup.github.io/focus-docs/getting-started/starter-kit.html)
				- [Focus demo app](https://github.com/KleeGroup/focus-demo-app)
			</section>
			<section data-background='https://mtpmcg.files.wordpress.com/2014/07/thanks-b-fr-mtpmcg714-sm-2163.jpg'></section>
					</div>
	</div>
	<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js">
		</script>

		<script>
			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,
				transition: 'slide', // none/fade/slide/convex/concave/zoom
				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});
		</script>
		<script>
		  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		  ga('create', 'UA-70256271-2', 'auto');
		  ga('send', 'pageview');

		</script>


</body>
</html>
